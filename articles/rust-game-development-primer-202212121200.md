---
title: "ゲームを作りたくなったからRustで作ってみる！ 入門編"
emoji: "🦀"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["rust", "amethyst", "gfxrs", "ゲーム開発"]
published: false
---

こちらは [Sun\* Advent Calendar 2022](https://adventar.org/calendars/8211) 12日目として公開した記事です。

# TL;DR

- ポーカーのチップ管理アプリを2Dゲームで作りたい筆者
- 速度や保守性に優れる言語Rustはゲーム開発にも利用できるのか？について調査
- `Amethyst`や`gfx-rs`といったゲーム開発ライブラリーがあり、今回は`Amethyst`を使えば実現可能と判明
- **_Rustで実装する利点として〜であることも判明_**
- この記事では調査結果までを記載したので、今後は実装に着手して再度記事化を目指す

# 参考になりそうな人

- Rustを使った開発に興味がある方
- ゲーム開発に興味がありつつも、まだ開発フローのイメージが薄い方
- 定番のUnityやUnrealEngineといったゲーム開発IDEは経験があっても、言語のライブラリーを利用したゲーム開発はやったことがない方

# はじめに

## 自己紹介

株式会社Sun Asteriskに所属する半田侑宜です。社内ではWebアプリエンジニアとして働いていて、某Webアプリのバックエンド開発に携わっています。なので、普段の業務ではゲーム開発には関わりがないですが、大学生・院生時代にUnityを使ったゲームを開発したり研究した経験があります。

余談ですが、プライベートでもよくゲームをプレイします。特にゼルダの伝説が好きです。任天堂Switchの[ゼルダの伝説 Breath of the Wild](https://www.nintendo.co.jp/zelda/botw/index.html)は有名ですが、その次回作[Tears of the Kingdom](https://www.nintendo.co.jp/zelda/totk/index.html)が来年前半に発売予定なので楽しみです。夜しか眠れません。

## 背景

最近、社内メンバーと部活動としてポーカー（[Texas Hold 'em Sit & Go]()）を楽しむ機会があり、（現金は賭けずに）チップを導入したこともあり大人げなく盛り上がりました。ただ、仕事終わりかつゲーム展開に夢中なハイテンションの大人たちにはチップを管理する余裕がなく、チップ管理をスマートフォンアプリに任せていました。賭ける時のルールや金額計算、手持ち数値化、ブラインド（強制ベット金額）の時間増額管理…といった具合に、機能が豊富でなかなか完成度は高いのですが、いくつか気になる点もありました。

- Digital Poker Chips
  - メリット
    - プレイヤー数に依らず1アプリで全体のチップを管理でき、とても手軽
  - デメリット
    - [Android版](https://play.google.com/store/apps/details?id=rubewijk.DigitalPokerChips&hl=en&gl=US&pli=1)のみのため、使えるスマートフォンに限りがある
- Rocket Poker Chips
  - メリット
    - [iOS](https://apps.apple.com/jp/app/rocket-poker-chips/id1579858247)、[Android](https://play.google.com/store/apps/details?id=rocket.chips&hl=ja&gl=US)の両対応
    - プレーヤー1人につき1アプリを使用し同一ネットワークでもって相互通信するシステムなので、各自自分のスマホを操作・閲覧すればいい（昨今のコロナ情勢に沿ったスタイルともいえる）
    - 「待機中の人の画面が暗くなる」「チップのアニメーションが凝っている」などの工夫もあり完成度が高い
  - デメリット
    - 同一ネットワークが用意できないなど、場合によっては「プレーヤー1人につき1アプリ」の敷居が高い
    - 一定期間の無料利用後、課金の必要あり

|                                                                                                                                                                                |                                                                                                                                                                             |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ![](/images/rust-game-development-primer-202212121200/digital_poker_chips_preview.webp =350x)<br /> _Digital Poker Chipsのスクリーンショット[^digital_poker_chips_screenshot]_ | ![](/images/rust-game-development-primer-202212121200/rocket_poker_chips_preview.webp =320x)<br /> _Rocket Poker Chipsのスクリーンショット[^rocket_poker_chips_screenshot]_ |

この2つのアプリは特に完成度が高いので列挙していますが、それでも互いにメリット・デメリットがあります。そして、「これらのメリットを融合したちょうどいいアプリがあればなぁ…」と考えていたのですが、エンジニアらしく「だったら自分で開発すればいいじゃん」と思い至りました。まさしくこれが「ぼくのかんがえたさいきょうのポーカーチップ管理アプリ」ですね。（まだ出来上ってないですが）
とりあえずは社内向けに開発して、さらに活動を盛り上げられたらいいなって思っています。

[^digital_poker_chips_screenshot]: [Google Play](https://play.google.com/store/apps/details?id=rubewijk.DigitalPokerChips&hl=en&gl=US&pli=1)に掲載の画像を引用。
[^rocket_poker_chips_screenshot]: [App Store](https://apps.apple.com/jp/app/rocket-poker-chips/id1579858247?platform=iphone)に掲載の画像を引用。

## 技術選定

ざっくりとした基本方針として、下記の3点があります。

- "Rocket Poker Chips"のようにグラフィカルで表現豊かにしたい
- とりあえずWebGLで動作させてクロスプラットフォーム化
- 1アプリか、複数アプリ同時接続かをユーザーが選択できる

そのため、2Dゲーム開発環境が必要です。ゲーム開発というと、UnityやUnrealEngineについ手が伸びてしまうイメージが個人的にあります。おそらく、有名・手軽・業界標準という要素が大きく影響していますが、ふと「言語から選定してもいいのでは？」と気づきました。加えて、ちょうどRustに手を出してみたかったところだったので、ここぞとばかりにRustを使用言語として選定してみました。「動作が速い」「保守性が高い」と言われているので、結構ゲーム開発に向いているんじゃないかなと踏んでいます。

# 調査

# 感想

# まとめ

# 今後のアクション

# 最後のお知らせ
